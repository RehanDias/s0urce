<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Locator Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'gradient': 'gradient 15s ease infinite',
                    },
                    keyframes: {
                        gradient: {
                            '0%, 100%': {
                                'background-position': '0% 50%'
                            },
                            '50%': {
                                'background-position': '100% 50%'
                            },
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="flex items-center justify-center min-h-screen bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 animate-gradient bg-[length:400%_400%] p-4">
    <div class="bg-white bg-opacity-90 p-6 sm:p-8 rounded-lg shadow-2xl text-center w-full max-w-md">
        <h1 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-gray-800">IP Locator Pro</h1>
        <p class="text-sm sm:text-base text-gray-600 mb-6">Discover and share your digital footprint instantly!</p>
        <button id="get-ip-btn" class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300 ease-in-out transform hover:scale-105">
            <i class="fas fa-globe mr-2"></i> Locate and Share
        </button>
        <div id="loading" class="hidden mt-6">
            <div class="animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 border-t-2 border-b-2 border-blue-600 mx-auto"></div>
            <p class="mt-4 text-sm sm:text-base text-gray-600">Locating and preparing to share...</p>
        </div>
    </div>

    <script>
        const getIpBtn = document.getElementById('get-ip-btn');
        const loadingElement = document.getElementById('loading');

        function getRegionEmoji(continentCode) {
            const regionMap = {
                "AS": "üåè", "EU": "üåç", "AF": "üåç", "NA": "üåé", "SA": "üåé", "OC": "üåè", "AN": "‚ùÑÔ∏è"
            };
            return regionMap[continentCode] || "üó∫Ô∏è";
        }

        function getCountryEmoji(countryCode) {
            const codePoints = countryCode
                .toUpperCase()
                .split('')
                .map(char => 127397 + char.charCodeAt());
            return String.fromCodePoint(...codePoints);
        }

        async function getDeviceInfo() {
            const deviceInfo = {
                deviceType: navigator.userAgent,
                os: navigator.platform,
                osDetailed: getOS(),
                browser: navigator.appName,
                browserVersion: navigator.appVersion,
                screenResolution: `${screen.width} x ${screen.height}`,
                localTime: new Date().toLocaleString(),
                browserLanguage: navigator.language,
                onlineStatus: navigator.onLine ? 'Online' : 'Offline',
                cookiesEnabled: navigator.cookieEnabled ? 'Yes' : 'No',
                userAgent: navigator.userAgent,
                maxTouchPoints: navigator.maxTouchPoints || 'Not supported',
                jsVersion: (function() {
                    if (typeof Symbol === "function") return "ES6";
                    if (typeof Promise === "function") return "ES6";
                    if (typeof Proxy === "function") return "ES6";
                    if (typeof Map === "function") return "ES6";
                    return "ES5 or lower";
                })(),
                batteryLevel: 'N/A',
                chargingStatus: 'N/A',
                connectionType: navigator.connection ? navigator.connection.effectiveType : 'Not supported',
                timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                cpuCores: navigator.hardwareConcurrency || 'Not supported',
                deviceMemory: navigator.deviceMemory ? `${navigator.deviceMemory} GB` : 'Not supported',
                doNotTrack: navigator.doNotTrack == '1' ? 'Enabled' : 'Disabled',
                gpuRenderer: 'Not supported',
                gpuVendor: 'Not supported',
                referrer: document.referrer || 'None',
                numPlugins: navigator.plugins.length,
                incognito: 'Not supported',
                colorDepth: `${screen.colorDepth}-bit`,
                viewportSize: `${window.innerWidth} x ${window.innerHeight}`,
                geolocation: 'Not supported',
                networkSpeed: navigator.connection ? navigator.connection.downlink : 'Not supported'
            };

            // Battery info
            const battery = await navigator.getBattery();
            deviceInfo.batteryLevel = Math.round(battery.level * 100) + '%';
            deviceInfo.chargingStatus = battery.charging ? 'Charging' : 'Not Charging';

            // GPU info
            const gpuInfo = getGPUInfo();
            deviceInfo.gpuRenderer = gpuInfo.renderer;
            deviceInfo.gpuVendor = gpuInfo.vendor;

            // Geolocation info
            if (navigator.geolocation) {
                const position = await new Promise((resolve, reject) => {
                    navigator.geolocation.getCurrentPosition(resolve, reject);
                });
                deviceInfo.geolocation = `Lat: ${position.coords.latitude}, Long: ${position.coords.longitude}`;
            } else {
                deviceInfo.geolocation = 'Not supported';
            }

            // Incognito mode detection
            let fs = window.RequestFileSystem || window.webkitRequestFileSystem;
            if (!fs) {
                deviceInfo.incognito = 'Not supported';
            } else {
                fs(window.TEMPORARY, 100, function() {
                    deviceInfo.incognito = 'No';
                }, function() {
                    deviceInfo.incognito = 'Yes';
                });
            }

            return deviceInfo;
        }

        function getOS() {
            let userAgent = window.navigator.userAgent,
                platform = window.navigator?.userAgentData?.platform || window.navigator.platform,
                macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
                windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
                iosPlatforms = ['iPhone', 'iPad', 'iPod'],
                os = null;

            if (macosPlatforms.indexOf(platform) !== -1) {
                os = 'Mac OS';
            } else if (iosPlatforms.indexOf(platform) !== -1) {
                os = 'iOS';
            } else if (windowsPlatforms.indexOf(platform) !== -1) {
                os = 'Windows';
            } else if (/Android/.test(userAgent)) {
                os = 'Android';
            } else if (!os && /Linux/.test(platform)) {
                os = 'Linux';
            }

            return os;
        }

        function getGPUInfo() {
            let canvas = document.createElement('canvas');
            let gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            if (gl) {
                let debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                let vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);
                let renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                return { vendor, renderer };
            } else {
                return { vendor: 'Not supported', renderer: 'Not supported' };
            }
        }

        getIpBtn.addEventListener('click', async function() {
            loadingElement.classList.remove('hidden');
            getIpBtn.classList.add('hidden');

            try {
                // Get IP information
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                const locationResponse = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
                const locationData = await locationResponse.json();

                // Get device information
                const deviceInfo = await getDeviceInfo();

                // Prepare message
                const regionEmoji = getRegionEmoji(locationData.continent_code);
                const countryEmoji = getCountryEmoji(locationData.country);
                const mapsUrl = `https://www.google.com/maps?q=${locationData.latitude},${locationData.longitude}`;

                const message = `üåê My Digital Footprint üïµÔ∏è‚Äç‚ôÇÔ∏è
üìç IP Address: ${ipData.ip}
üè¢ ISP: ${locationData.org}
üèôÔ∏è City: ${locationData.city}
${regionEmoji} Region: ${locationData.region}
${countryEmoji} Country: ${locationData.country_name}
üß≠ Coordinates: ${locationData.latitude}, ${locationData.longitude}
üó∫Ô∏è Google Maps: ${mapsUrl}

üì± Device Information:
Device Type: ${deviceInfo.deviceType}
Operating System: ${deviceInfo.os}
Operating System (Detailed): ${deviceInfo.osDetailed}
Browser: ${deviceInfo.browser}
Browser Version: ${deviceInfo.browserVersion}
Screen Resolution: ${deviceInfo.screenResolution}
Local Time: ${deviceInfo.localTime}
Browser Language: ${deviceInfo.browserLanguage}
Online Status: ${deviceInfo.onlineStatus}
Cookies Enabled: ${deviceInfo.cookiesEnabled}
User Agent: ${deviceInfo.userAgent}
Max Touch Points: ${deviceInfo.maxTouchPoints}
JavaScript Version: ${deviceInfo.jsVersion}
Battery Level: ${deviceInfo.batteryLevel}
Charging Status: ${deviceInfo.chargingStatus}
Connection Type: ${deviceInfo.connectionType}
Time Zone: ${deviceInfo.timeZone}
CPU Cores: ${deviceInfo.cpuCores}
Device Memory: ${deviceInfo.deviceMemory}
Do Not Track: ${deviceInfo.doNotTrack}
GPU Renderer: ${deviceInfo.gpuRenderer}
GPU Vendor: ${deviceInfo.gpuVendor}
Referrer: ${deviceInfo.referrer}
Number of Plugins: ${deviceInfo.numPlugins}
Incognito Mode: ${deviceInfo.incognito}
Color Depth: ${deviceInfo.colorDepth}
Viewport Size: ${deviceInfo.viewportSize}
Geolocation: ${deviceInfo.geolocation}
Estimated Network Speed: ${deviceInfo.networkSpeed}`;

                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            } catch (error) {
                console.error('Error:', error);
                alert('Failed to retrieve information. Please try again.');
            } finally {
                loadingElement.classList.add('hidden');
                getIpBtn.classList.remove('hidden');
            }
        });
    </script>
</body>

</html>
