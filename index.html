<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Locator Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'gradient': 'gradient 15s ease infinite',
                    },
                    keyframes: {
                        gradient: {
                            '0%, 100%': {
                                'background-position': '0% 50%'
                            },
                            '50%': {
                                'background-position': '100% 50%'
                            },
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="flex items-center justify-center min-h-screen bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 animate-gradient bg-[length:400%_400%] p-4">
    <div class="bg-white bg-opacity-90 p-6 sm:p-8 rounded-lg shadow-2xl text-center w-full max-w-md">
        <h1 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-gray-800">IP Locator Pro</h1>
        <p class="text-sm sm:text-base text-gray-600 mb-6">Discover and share your digital footprint instantly!</p>
        <button id="get-ip-btn" class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300 ease-in-out transform hover:scale-105">
            <i class="fas fa-globe mr-2"></i> Locate and Share
        </button>
        <div id="loading" class="hidden mt-6">
            <div class="animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 border-t-2 border-b-2 border-blue-600 mx-auto"></div>
            <p class="mt-4 text-sm sm:text-base text-gray-600">Locating and preparing to share...</p>
        </div>
    </div>

    <script>
        const getIpBtn = document.getElementById('get-ip-btn');
        const loadingElement = document.getElementById('loading');

        function getRegionEmoji(continentCode) {
            const regionMap = {
                "AS": "🌏", "EU": "🌍", "AF": "🌍", "NA": "🌎", "SA": "🌎", "OC": "🌏", "AN": "❄️"
            };
            return regionMap[continentCode] || "🗺️";
        }

        function getCountryEmoji(countryCode) {
            const codePoints = countryCode
                .toUpperCase()
                .split('')
                .map(char => 127397 + char.charCodeAt());
            return String.fromCodePoint(...codePoints);
        }

        getIpBtn.addEventListener('click', async function () {
            loadingElement.classList.remove('hidden');
            getIpBtn.classList.add('hidden');
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                const locationResponse = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
                const locationData = await locationResponse.json();

                const regionEmoji = getRegionEmoji(locationData.continent_code);
                const countryEmoji = getCountryEmoji(locationData.country);
                const mapsUrl = `https://www.google.com/maps?q=${locationData.latitude},${locationData.longitude}`;

                const message = `🌐 My Digital Footprint 🕵️‍♂️
📍 IP Address: ${ipData.ip}
🏢 ISP: ${locationData.org}
🏙️ City: ${locationData.city}
${regionEmoji} Region: ${locationData.region}
${countryEmoji} Country: ${locationData.country_name}
🧭 Coordinates: ${locationData.latitude}, ${locationData.longitude}
🗺️ Google Maps: ${mapsUrl}
--//RehanDias--`;

                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://wa.me/?text=${encodedMessage}`;
                window.location.href = whatsappUrl;

                setTimeout(() => {
                    document.body.innerHTML = '';
                    document.body.className = 'bg-white';
                }, 100);
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred while fetching your IP address and location.');
                loadingElement.classList.add('hidden');
                getIpBtn.classList.remove('hidden');
            }
        });
    </script>
</body>

</html>
